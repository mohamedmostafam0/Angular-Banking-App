<div class="beneficiaries-container">
  <p-toast></p-toast>
  <p-confirmDialog [style]="{ width: '450px' }"></p-confirmDialog>
  <div class="header">
    <h1>View Beneficiaries</h1>
    <p>View and manage your beneficiaries.</p>
  </div>
  <div class="budget-planning-page">
  

  <p-table [value]="beneficiaries" [paginator]="true" [rows]="10" [responsive]="true">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
        <th>Account Number</th>
        <th>Bank Name</th>
        <th>Type</th>
        <th pSortableColumn="group">Group <p-sortIcon field="group"></p-sortIcon></th>
        <th>Favorite</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-beneficiary>
      <tr>
        <td>{{ beneficiary.name }}</td>
        <td>{{ beneficiary.accountNumber }}</td>
        <td>{{ beneficiary.bankName }}</td>
        <td>{{ beneficiary.isInternational ? 'International' : 'Domestic' }}</td>
        <td><p-chip [label]="beneficiary.group" [styleClass]="'group-' + beneficiary.group.toLowerCase()"></p-chip></td>
        <td>
          <button pButton pRipple [icon]="beneficiary.isFavorite ? 'pi pi-star-fill' : 'pi pi-star'" [pTooltip]="beneficiary.isFavorite ? 'Remove from Favorites' : 'Add to Favorites'" (click)="toggleFavorite(beneficiary, $event)" [ngClass]="{'p-button-warning': beneficiary.isFavorite, 'p-button-text': !beneficiary.isFavorite}"></button>
        </td>
        <td>
          <button pButton pRipple icon="pi pi-send" class="p-button-rounded p-button-success p-button-text p-mr-2" (click)="transferToBeneficiary(beneficiary)" pTooltip="Transfer to Beneficiary"></button>
          <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-info p-button-text" (click)="editBeneficiary(beneficiary)"></button>
          <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-text" (click)="deleteBeneficiary(beneficiary)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
